<%- include('../layouts/userHeader.ejs') %>

<!-- ... (rest of your code) ... -->

<div class="form-container" style="margin-top: 180px; max-width: 400px; margin: 0 auto; margin-top: 180px; margin-bottom: 80px;">
    <h3 style="text-align: center;">Mobile Number Verification</h3>
    <form id="myForm" action="/setNewPassword" method="post" style="margin-top: 30px;" onsubmit="return validateOTPForm()">
        <div class="form-group">
            <label for="otp">Enter OTP:</label>
            <input type="text" id="otp" name="otp" placeholder="Enter the OTP you received" style="width: 100%; padding: 10px;">
        </div>
        <div class="form-group" style="text-align: center;">
            <button type="submit" class="btn" style="background-color: #4CAF50; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; cursor: pointer;">Submit</button>
         
               
        </div>
       <div class="col-md-12 form-group form-group-spacing">
                                    <a href="/forgetOtp">
                                        <p type="button" class="btn resend_btn" id="resendBtn"
                                            style="display: none; color: rgb(49, 156, 72);">Resend OTP</p>
                                    </a>

                                   <p style="color: red;">
                                          <%=(typeof message!=='undefined') ? message : "" %>
                                                  </p>


                                </div>
                                <div class="col-md-12 form-group form-group-spacing">
                                    <p id="countdown" style="display: none;"></p>
                                </div>
    </form>
</div>
<script>
    function validateOTPForm() {
        var otpInput = document.getElementById("otp");
        var otpValue = otpInput.value.trim();

        if (otpValue === "") {
            document.getElementById("errorMessage").textContent = "Please enter the OTP.";
            return false; // Prevent form submission
        }

        // Form is valid, allow submission
        return true;
    }
</script>
<script>
        // Wait for 5 seconds before showing the resend button
        setTimeout(function () {
            document.getElementById("resendBtn").style.display = "block";
        }, 5000);

        // Countdown timer
        var countdownElement = document.getElementById("countdown");
        var timeLeft = 5; // Set the time in seconds

        function startCountdown() {
            countdownElement.style.display = "block";
            countdownElement.textContent = "Resend OTP in " + timeLeft + " seconds";
            timeLeft--;

            if (timeLeft >= 0) {
                setTimeout(startCountdown, 1000); // Update every second
            } else {
                countdownElement.style.display = "none";
            }
        }

        startCountdown();
    </script>

<%- include('../layouts/userFooter.ejs') %>
